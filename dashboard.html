<script>
    async function register(e) {
  e.preventDefault();
  const res = await fetch('/register', {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({
      email: emailInput.value,
      code: codeInput.value,
      domain: domainSelect.value
    })
  });
  const { token } = await res.json();
  localStorage.setItem('jwt', token);
  // navigeer naar dashboard
  window.location.href = '/dashboard.html';
}


async function loadDashboard() {
  const token = localStorage.getItem('jwt');
  const res = await fetch('/dashboard', {
    headers: { 'Authorization': `Bearer ${token}` }
  });
  const data = await res.json();
  // Render met jouw Bootstrap componenten
  document.getElementById('visitors').innerText = data.visitors.all;
  // â€¦ etc.
}
window.addEventListener('DOMContentLoaded', loadDashboard);

</script>